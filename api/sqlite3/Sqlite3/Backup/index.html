<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Backup (sqlite3.Sqlite3.Backup)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="generator" content="doc-ock-html v1.0.0-1-g1fc9bf0"/></head><body><nav id="top"><a href="../index.html">Up</a> &mdash; <span class="package">package <a href="../../index.html">sqlite3</a></span></nav><header><h1><span class="keyword">Module</span> <span class="module-path">Sqlite3.Backup</span></h1></header><div class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>t</code><code></code><code></code></div><div class="doc"><p>Type of a backup between two databases</p></div></div><div class="spec val" id="val-init"><a href="#val-init" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>init : dst:<a href="../index.html#type-db">db</a> <span class="keyword">&#8209;&gt;</span> dst_name:string <span class="keyword">&#8209;&gt;</span> src:<a href="../index.html#type-db">db</a> <span class="keyword">&#8209;&gt;</span> src_name:string <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a></code></div><div class="doc"><p><code class="code">init ~dst ~dst_name ~src ~src_name</code> initializes a backup from the
database <code class="code">src</code>/<code class="code">src_name</code> to the database <code class="code">dst</code>/<code class="code">dst_name</code>.</p><ul class="at-tag"><li><span class="at-tag raise">Raises</span> <span class="module-path">SqliteError</span>: if there is already a read or read-write
transaction open on the destination database</li></ul></div></div><div class="spec val" id="val-step"><a href="#val-step" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>step : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> int <span class="keyword">&#8209;&gt;</span> <a href="../Rc/index.html#type-t">Rc.t</a></code></div><div class="doc"><p><code class="code">step backup pagecount</code> will copy up to <code class="code">pagecount</code> pages between the
associated databases of <code class="code">backup</code>.</p></div></div><div class="spec val" id="val-finish"><a href="#val-finish" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>finish : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <a href="../Rc/index.html#type-t">Rc.t</a></code></div><div class="doc"><p><code class="code">finish backup</code> destroys the association <code class="code">backup</code>; this is to be
called after <code class="code">step</code> returns <code class="code">SQLITE_DONE</code>.</p></div></div><div class="spec val" id="val-remaining"><a href="#val-remaining" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>remaining : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> int</code></div><div class="doc"><p><code class="code">remaining backup</code> returns the number of pages still to be backed
up in <code class="code">backup</code>.</p></div></div><div class="spec val" id="val-pagecount"><a href="#val-pagecount" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>pagecount : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> int</code></div><div class="doc"><p><code class="code">pagecount backup</code> returns the total number of pages in the source
database of <code class="code">backup</code>.</p></div></div></body></html>